<!DOCTYPE html>
<html lang="hu">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vizsga Eredm√©nyek Anal√≠zis</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- layout fixek (hogy biztosan m≈±k√∂dj√∂n akkor is, ha a style.css nincs friss√≠tve) -->
  <style>
    .controls-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      flex-wrap:wrap;
      margin: 10px 0 14px 0;
      padding: 10px 12px;
      border-radius: 12px;
      background: rgba(255,255,255,0.45);
    }
    .control-group{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }
    .control-label{
      font-weight:600;
      margin-right: 4px;
    }
    .control-group label{
      display:flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
      user-select:none;
    }
    .toggle{
      font-weight:600;
    }
    .chart-center{
      display:flex;
      justify-content:center;
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <h1>Vizsga Eredm√©nyek Anal√≠zis</h1>
      <p class="subtitle">Tanul√≥i teljes√≠tm√©ny elemz√©se ~20,000 hallgat√≥ adatai alapj√°n</p>
    </header>

    <!-- Gender eloszl√°s -->
    <div class="chart-container">
      <div class="chart-title">Nemek szerinti eloszl√°s</div>
      <div class="chart-description">
        Az adatb√°zisban szerepl≈ë hallgat√≥k nemi megoszl√°sa
      </div>
      <div id="vis1"></div>
      <div class="insight">
        <h3>üìä Mit mutat a diagram?</h3>
        <p>Ez a f√°nkdiagram a hallgat√≥k nemi megoszl√°s√°t √°br√°zolja. L√°thatjuk, hogy mindh√°rom kateg√≥ria (f√©rfi, n≈ë,
          egy√©b) k√∂r√ºlbel√ºl egyform√°n van k√©pviselve az adatb√°zisban, mindegyik kb. 33%-ot tesz ki.</p>
          <br>
        <h3>üîç Mit tanulhatunk ebb≈ël?</h3>
        <p><strong>Megb√≠zhat√≥ adat:</strong> Az egyenletes eloszl√°s azt jelenti, hogy az eredm√©nyeink val√≥ban minden
          hallgat√≥i csoportra vonatkoznak, nem csak egy r√©sz√ºkre. Ez fontos, mert √≠gy biztos lehet√ºnk benne, hogy a
          k√©s≈ëbb l√°tott √∂sszef√ºgg√©sek √©s min√°zatok √°tfog√≥ k√©pet mutatnak.</p>
      </div>
    </div>

    <!-- Exam Score eloszl√°s -->
    <div class="chart-container">
      <div class="chart-title">Vizsgaeredm√©nyek eloszl√°sa</div>
      <div class="chart-description">
        A hallgat√≥k vizsgapontsz√°mainak gyakoris√°gi eloszl√°sa
      </div>
      <div id="vis2"></div>
      <div class="insight">
        <h3>üìä Mit mutat a diagram?</h3>
        <p>Ez a hisztogram a vizsgaeredm√©nyek eloszl√°s√°t mutatja. Az oszlopok sz√≠ne jelzi a teljes√≠tm√©ny szintj√©t: a
          r√≥zsasz√≠nes oszlopok a gyeng√©bb eredm√©nyeket (0-50 pont), a b√©zs sz√≠n a k√∂zepes tartom√°nyt (50-70 pont), m√≠g a
          z√∂ld a j√≥ teljes√≠tm√©nyt (70-100 pont) jelzi.</p>
          <br>
        <h3>üîç Mit tanulhatunk ebb≈ël?</h3>
        <p><strong>A legt√∂bb hallgat√≥ a k√∂z√©pen tal√°lhat√≥:</strong> Az adatok azt mutatj√°k, hogy a hallgat√≥k jelent≈ës
          r√©sze az 50-70 pontos tartom√°nyban van.</p>
        <p><strong>Az eloszl√°s mint√°ja:</strong> L√°that√≥, hogy viszonylag kevesen vannak az als√≥ tartom√°nyban (0-50 pont
          k√∂z√∂tt), √©s a magasabb pontokat el√©r≈ëk sz√°ma is korl√°tozott. A legt√∂bb hallgat√≥ eredm√©nye egy k√∂zepes szinten
          koncentr√°l√≥dik, ami egy <strong> tipikus eloszl√°si mint√°t </strong> mutat az oktat√°sban.</p>
        <p><strong>√ârdekes megfigyel√©s:</strong> A sz√≠nk√≥dol√°s seg√≠ts√©g√©vel gyorsan l√°that√≥, hogy melyik
          teljes√≠tm√©nyszint milyen n√©pess√©g≈±. Ez lehetov√© teszi, hogy azonnal √°tfogj√∫k, hol helyezkednek el a hallgat√≥k
          a teljes√≠tm√©nyskal√°n.</p>
      </div>
    </div>

    <!-- Study Method vs Exam Score -->
    <div class="chart-container">
      <div class="chart-title">Tanul√°si m√≥dszerek hat√©konys√°ga</div>
      <div class="chart-description">
        √Åtlagos vizsgaeredm√©nyek tanul√°si m√≥dszer szerint
      </div>
      <div id="vis3"></div>
      <div class="insight">
        <h3>üìä Mit mutat a diagram?</h3>
        <p>Ez az oszlopdiagram az √∂t f≈ë tanul√°si m√≥dszer √°tlagos vizsgaeredm√©nyeit hasonl√≠tja √∂ssze. Minden oszlop egy
          m√≥dszert k√©pvisel (coaching, group study, mixed, online videos, self-study), √©s az oszlop magass√°ga mutatja,
          hogy az adott m√≥dszerrel tanul√≥ hallgat√≥k √°tlagosan h√°ny pontot √©rtek el.</p>
          <br>
        <h3>üîç Mit tanulhatunk ebb≈ël?</h3>
        <p><strong>N√©mi elt√©r√©s l√°that√≥:</strong> Az √°tlagos eredm√©nyek k√∂z√∂tt kisebb-nagyobb k√ºl√∂nbs√©gek vannak a
          tanul√°si m√≥dszerek k√∂z√∂tt, de ezek nem felt√©tlen√ºl dr√°maiak. Minden m√≥dszerrel tal√°lunk sikeres √©s kev√©sb√©
          sikeres hallgat√≥kat is.</p>
        <p><strong>Nem garancia semmilyen m√≥dszer:</strong> Az adatok azt mutatj√°k, hogy egyik tanul√°si m√≥dszer sem
          vezet automatikusan j√≥ vagy rossz eredm√©nyhez. </p>
        <p><strong>Mint√°zat az adatokban:</strong> L√°that√≥, hogy az ir√°ny√≠tott, t√°rsas tanul√°si form√°k (ahol van
          coaching vagy csoportmunka) √°ltal√°ban jobb eredm√©nyeket hoztak, mint azok a m√≥dszerek, ahol a hallgat√≥ egyed√ºl tanult.</p>
      </div>
    </div>

    <!-- 4. Chart (jav√≠tott layout + HTML kontrollok) -->
    <div class="chart-container">
      <div class="chart-title">Alv√°s√≥r√°k √©s vizsgaeredm√©ny kapcsolata</div>
      <div class="chart-description">
        Pontdiagram: x = alv√°s√≥r√°k, y = vizsgaeredm√©ny; a sz√≠n az alv√°s min≈ës√©g√©t mutatja.
        A kapcsol√≥val a trendvonalak ki/be kapcsolhat√≥k, a r√°di√≥gombbal pedig sz≈±rhetsz vizsga neh√©zs√©g szerint.
      </div>

      <div class="controls-row">
        <div class="control-group">
          <span class="control-label">Vizsga neh√©zs√©g:</span>
          <label><input type="radio" name="difficulty" value="All" checked> √ñsszes</label>
          <label><input type="radio" name="difficulty" value="easy"> K√∂nny≈±</label>
          <label><input type="radio" name="difficulty" value="moderate"> K√∂zepes</label>
          <label><input type="radio" name="difficulty" value="hard"> Neh√©z</label>
        </div>

        <div class="control-group">
          <label class="toggle">
            <input type="checkbox" id="showTrend" checked>
            Trendvonalak
          </label>
        </div>
      </div>

      <div class="chart-center">
        <div id="vis4"></div>
      </div>

      <div class="insight">
        <h3>üìä Mit mutat a diagram?</h3>
        <p>
          Ez a pontdiagram azt √°br√°zolja, hogyan viszonyul egym√°shoz a
          <strong>napi alv√°sid≈ë</strong> (x tengely) √©s a
          <strong>vizsgaeredm√©ny</strong> (y tengely) a hallgat√≥k k√∂r√©ben.
        </p>
      
        <p>
          Minden pont egy hallgat√≥ egy megfigyel√©se.
          A diagramon j√≥l l√°that√≥, hogy a pontok er≈ësen <em>sz√©tsz√≥rtak</em>:
          ugyanann√°l az alv√°s√≥r√°n√°l is sokf√©le vizsgaeredm√©ny fordul el≈ë.
        </p>
      
        <p>
          Ez arra utal, hogy az alv√°s √∂nmag√°ban
          nem az egyetlen t√©nyez≈ë, amely a teljes√≠tm√©nyt meghat√°rozza.
          Ugyanakkor a sim√≠tott trendvonalak seg√≠tenek megl√°tni azt az
          <em>√°tlagos ir√°nyt</em>, amely a zajos egy√©ni elt√©r√©sek m√∂g√∂tt kirajzol√≥dik.
        </p>

        <br>
      
        <h3>üîç Mit tanulhatunk ebb≈ël?</h3>
        <p>
          A trendvonalak bekapcsol√°s√°val vil√°gosabban √∂sszehasonl√≠that√≥,
          hogy az elt√©r≈ë alv√°smin≈ës√©g mellett
          hogyan alakul √°tlagosan a vizsgaeredm√©ny az alv√°s√≥r√°k f√ºggv√©ny√©ben.
        </p>
      
        <p>
          <strong>1) Alv√°smin≈ës√©g hat√°sa:</strong> Az √°br√°n k√∂vetkezetesen megfigyelhet≈ë, hogy a
          jobb alv√°smin≈ës√©ghez magasabb √°tlagos vizsgaeredm√©nyek
          t√°rsulnak, f√ºggetlen√ºl att√≥l, hogy a vizsga k√∂nny≈±, k√∂zepes vagy neh√©z.
          Ez a hat√°s nem sz√©ls≈ës√©ges, de stabilan jelen van.
        </p>
      
        <p>
          <strong>2) Vizsganeh√©zs√©g hat√°sa:</strong>A vizsganeh√©zs√©g szerinti sz≈±r√©s azt is megmutatja, hogy
          nehezebb vizsg√°k eset√©n a pontok sz√≥r√°sa nagyobb,
          azaz a teljes√≠tm√©ny v√°ltoz√©konyabb.
          Ennek ellen√©re a j√≥ alv√°smin≈ës√©g el≈ënye ilyenkor is megmarad.
        </p>
      
        <p>
          <strong>V√©gs≈ë K√∂vetkeztet√©s: </strong>√ñsszess√©g√©ben a diagram azt sugallja, hogy a megfelel≈ë mennyis√©g≈± √©s
          j√≥ min≈ës√©g≈± alv√°s <strong>nem garant√°l</strong> kiemelked≈ë eredm√©nyt,
          de <strong>jav√≠tja annak val√≥sz√≠n≈±s√©g√©t</strong>,
          k√ºl√∂n√∂sen √∂sszetettebb, nagyobb terhel√©st jelent≈ë vizsg√°k eset√©n.
        </p>
      </div>
      
    </div>

    <!-- 5. Chart: Bubble (Attendance ‚Äì Study Time ‚Äì Exam Score) -->
<div class="chart-container">
  <div class="chart-title">Jelenl√©t, tanul√°si id≈ë √©s vizsgaeredm√©ny kapcsolata</div>
  <div class="chart-description">
    A bubor√©kok csoportos√≠tott hallgat√≥i mint√°kat mutatnak: x = √≥rai jelenl√©t (%), y = tanul√°si id≈ë (√≥ra).
    A bubor√©k <b>sz√≠ne</b> az adott csoport <b>√°tlagos vizsgaeredm√©ny√©t</b> jelzi, a bubor√©k <b>m√©rete</b> pedig azt,
    h√°ny hallgat√≥ tartozik oda. A r√°di√≥gombokkal vizsga neh√©zs√©g szerint sz≈±rhetsz.
  </div>

  <div class="controls-row">
    <div class="control-group">
      <span class="control-label">Vizsga neh√©zs√©g:</span>
      <label><input type="radio" name="difficulty5" value="All" checked> √ñsszes</label>
      <label><input type="radio" name="difficulty5" value="easy"> K√∂nny≈±</label>
      <label><input type="radio" name="difficulty5" value="moderate"> K√∂zepes</label>
      <label><input type="radio" name="difficulty5" value="hard"> Neh√©z</label>
    </div>
  </div>

  <div class="chart-center">
    <div id="vis5"></div>
  </div>

  <div class="insight">
    <h3>üìå Hogyan olvasd a diagramot?</h3>
    <p>
      A f√ºgg≈ëleges vonal (‚âà 80% jelenl√©t) √©s a v√≠zszintes vonal (‚âà 5 √≥ra tanul√°s) k√©t ‚Äúk√ºsz√∂b√∂t‚Äù jel√∂l:
      alacsony vs. magas jelenl√©t, illetve kevesebb vs. t√∂bb tanul√°s. √çgy gyorsan √∂sszehasonl√≠that√≥k a n√©gy
      negyedben megjelen≈ë mint√°k.
    </p>

    <br>

    <h3>üîç Mit √©rdemes megfigyelni?</h3>
    <p>
      <b>1) Tanul√°si id≈ë hat√°sa:</b> felfel√© haladva (t√∂bb tanul√°s) jellemz≈ëen egyre ‚Äúz√∂ldebb‚Äù a sz√≠n,
      vagyis magasabb az √°tlagpontsz√°m ‚Äì ez akkor is l√°tszik, ha a jelenl√©t nem kiugr√≥an magas.
      <br>
      <b>2) Jelenl√©t hat√°sa:</b> jobbra haladva (magasabb jelenl√©t) szint√©n javul a teljes√≠tm√©ny,
      de f≈ëleg akkor, ha a tanul√°si id≈ë is legal√°bb k√∂zepes.
      <br>
      <b>3) Kombin√°ci√≥ a leger≈ësebb:</b> a jobb fels≈ë negyed (magas jelenl√©t + t√∂bb tanul√°s) adja a legjobb
      √°tlagokat ‚Äì itt a leger≈ësebb a ‚Äúmagas teljes√≠tm√©ny‚Äù mint√°zat.
      <br>
      <b>4) Sz≈±r√©s szerepe:</b> nehezebb vizsg√°n√°l √°ltal√°ban ‚Äúdr√°g√°bb‚Äù a j√≥ eredm√©ny:
      t√∂bb tanul√°s (√©s/vagy stabil jelenl√©t) kell ugyanahhoz a szinthez, m√≠g k√∂nny≈± vizsg√°n√°l a kedvez≈ë
      eredm√©nyek m√°r k√∂zepes er≈ëfesz√≠t√©s mellett is gyakrabban megjelennek.
      <br>
      <b>5) Jelenl√©t vs. tanul√°s:</b> A jobb als√≥ (magas jelenl√©t, kev√©s tanul√°s) √©s a bal fels≈ë negyed
      (alacsonyabb jelenl√©t, t√∂bb tanul√°s) √∂sszehasonl√≠t√°sa azt mutatja, hogy a t√∂bb tanul√°s gyakrabban j√°r
      <strong> jobb eredm√©nnyel, mint a puszta jelenl√©t. </strong> Ez arra utal, hogy a tanul√°si id≈ë hat√°sa er≈ësebb,
      <strong> b√°r a legjobb pontsz√°mok a magas jelenl√©t √©s a sok tanul√°s kombin√°ci√≥j√°n√°l jelennek meg. </strong>

    </p>
  </div>
</div>

    <script type="text/javascript">
      const dataUrl = 'Exam_Score_Prediction.csv';

      // 1. Donut
      const spec1 = {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "background": "#F2E7DD",
        "data": { "url": dataUrl, "format": { "type": "csv" } },
        "transform": [
          { "aggregate": [{ "op": "count", "as": "count" }], "groupby": ["gender"] },
          { "window": [{ "op": "sum", "field": "count", "as": "total" }], "frame": [null, null] },
          { "calculate": "datum.count / datum.total * 100", "as": "percentage" },
          { "calculate": "format(datum.percentage, '.1f') + '%'", "as": "label" }
        ],
        "layer": [
          {
            "mark": { "type": "arc", "innerRadius": 60, "outerRadius": 140 },
            "encoding": {
              "theta": { "field": "count", "type": "quantitative" },
              "color": {
                "field": "gender",
                "type": "nominal",
                "scale": { "domain": ["male", "female", "other"], "range": ["#7A958F", "#CA8E82", "#A75F37"] },
                "legend": { "title": "Nem", "labelFontSize": 12, "titleFontSize": 14 }
              },
              "tooltip": [
                { "field": "gender", "type": "nominal", "title": "Nem" },
                { "field": "count", "type": "quantitative", "title": "Hallgat√≥k sz√°ma" },
                { "field": "percentage", "type": "quantitative", "title": "Sz√°zal√©k", "format": ".1f" }
              ]
            }
          },
          {
            "mark": { "type": "text", "radius": 100, "fontSize": 16, "fontWeight": "bold", "color": "#292421" },
            "encoding": {
              "theta": { "field": "count", "type": "quantitative", "stack": true },
              "text": { "field": "label", "type": "nominal" }
            }
          }
        ],
        "width": 300,
        "height": 300
      };

      // 2. Histogram
      const spec2 = {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "background": "#F2E7DD",
        "data": { "url": dataUrl, "format": { "type": "csv" } },
        "transform": [
          { "bin": { "maxbins": 30 }, "field": "exam_score", "as": ["bin_start", "bin_end"] },
          { "calculate": "(datum.bin_start + datum.bin_end) / 2", "as": "bin_mid" }
        ],
        "mark": "bar",
        "encoding": {
          "x": {
            "field": "bin_start",
            "bin": "binned",
            "title": "Vizsgaeredm√©ny",
            "axis": { "labelFontSize": 11, "titleFontSize": 13 }
          },
          "x2": { "field": "bin_end" },
          "y": {
            "aggregate": "count",
            "title": "Hallgat√≥k sz√°ma",
            "axis": { "labelFontSize": 11, "titleFontSize": 13 }
          },
          "color": {
            "field": "bin_mid",
            "type": "quantitative",
            "scale": { "domain": [0, 50, 70, 100], "range": ["#CA8E82", "#D9B99F", "#7A958F", "#7A958F"] },
            "legend": { "title": "Teljes√≠tm√©ny", "titleFontSize": 12, "labelFontSize": 11 }
          },
          "tooltip": [
            { "field": "bin_start", "title": "Pontsz√°m (t√≥l)", "format": ".1f" },
            { "field": "bin_end", "title": "Pontsz√°m (ig)", "format": ".1f" },
            { "aggregate": "count", "title": "Hallgat√≥k sz√°ma" }
          ]
        },
        "width": 600,
        "height": 300
      };

      // 3. Bar chart
      const spec3 = {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "background": "#F2E7DD",
        "data": { "url": dataUrl, "format": { "type": "csv" } },
        "mark": "bar",
        "encoding": {
          "x": {
            "field": "study_method",
            "type": "nominal",
            "title": "Tanul√°si m√≥dszer",
            "axis": { "labelAngle": -45, "labelFontSize": 11, "titleFontSize": 13 }
          },
          "y": {
            "aggregate": "mean",
            "field": "exam_score",
            "type": "quantitative",
            "title": "√Åtlagos vizsgaeredm√©ny",
            "scale": { "domain": [0, 100] },
            "axis": { "labelFontSize": 11, "titleFontSize": 13 }
          },
          "color": {
            "field": "study_method",
            "type": "nominal",
            "scale": { "range": ["#A75F37", "#CA8E82", "#D9B99F", "#7A958F", "#F2D6CE"] },
            "legend": null
          },
          "tooltip": [
            { "field": "study_method", "title": "Tanul√°si m√≥dszer" },
            { "aggregate": "mean", "field": "exam_score", "title": "√Åtlagos pontsz√°m", "format": ".2f" },
            { "aggregate": "count", "title": "Hallgat√≥k sz√°ma" }
          ]
        },
        "width": 500,
        "height": 300
      };

      vegaEmbed('#vis1', spec1, { actions: false });
      vegaEmbed('#vis2', spec2, { actions: false });
      vegaEmbed('#vis3', spec3, { actions: false });

      // 4. Scatter (interactive) ‚Äì HTML kontrollokkal
      let view4 = null;

      fetch('sleep-scatter-interactive.json')
        .then(r => r.json())
        .then(spec4 => vegaEmbed('#vis4', spec4, { actions: false }))
        .then(res => {
          view4 = res.view;

          // init: a spec alap√©rt√©keivel √∂sszhangban
          view4.signal('difficulty', 'All').runAsync();
          view4.signal('showTrend', true).runAsync();

          document.querySelectorAll('input[name="difficulty"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
              if (!view4) return;
              view4.signal('difficulty', e.target.value).runAsync();
            });
          });

          document.getElementById('showTrend').addEventListener('change', (e) => {
            if (!view4) return;
            view4.signal('showTrend', e.target.checked).runAsync();
          });
        })
        .catch(console.error);

    
  // 5. Bubble chart 
  let view5 = null;

fetch('attendance-bubble.json')
  .then(r => r.json())
  .then(spec5 => vegaEmbed('#vis5', spec5, { actions: false }))
  .then(res => {
    view5 = res.view;
    view5.signal('difficulty5', 'All').runAsync();

    document.querySelectorAll('input[name="difficulty5"]').forEach(radio => {
      radio.addEventListener('change', (e) => {
        if (!view5) return;
        view5.signal('difficulty5', e.target.value).runAsync();
      });
    });
  })
  .catch(console.error);

    
    </script>

    <footer>
      <p>¬© 2026 Vizsga Eredm√©nyek Anal√≠zis | Business Intelligence Csoportos Projekt</p>
    </footer>
  </div>
</body>

</html>
